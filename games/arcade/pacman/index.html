<!DOCTYPE html>
<html lang="en-US">
    <head>
        <!-- DYNAMIC BETWEEN PAGES -->
        <meta property="og:title" content="PACMAN ;]" id="title" />
        <meta property="og:description" content="A simple game of pacman" />
        <meta name="description" content="A simple game of pacman" />

        <!-- STATIC BETWEEN PAGES -->
        <meta property="og:type" content="website" />
        <meta name="twitter:site" content="@VoxelPrismatic">
        <meta name="twitter:creator" content="@VoxelPrismatic">
        <meta name="twitter:card" content="summary">
        <meta name="twitter:image" content="https://voxelprismatic.github.io/prizm.dev/assets/image/webp/favi/priz_blurple.webp" />
        <meta property="og:image" content="https://voxelprismatic.github.io/prizm.dev/assets/image/favicon.png" />
        <meta name="theme-color" content="#0088FF">
        <meta property="og:site_name" content="PRIZ ;]">
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="256" />
        <meta property="og:image:height" content="256" />
        <meta property="og:url" content="https://voxelprismatic.github.io/prizm.dev/" />
        <title>PACMAN ;]</title>
        <link rel="icon" type="image/png" href="/prizm.dev/assets/image/favicon.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8"/>
        <meta property="og:url" content="https://voxelprismatic.github.io/prizm.dev/games/arcade/pacman/" />
        <meta name="author" content="PRIZ ;]" />
        <style type="text/css">
            * {
                font-family: "Ubuntu Mono";
            } #head {
                top: -100px;
            } #keys tr:nth-child(odd) {
                background-color: #233;
            } #keys tr:first-child {
                background-color: #344;
            } #keys td, #keys th {
                margin: 5px;
                padding: 5px;
            } pre#logo {
                width: 100%;
                text-align: center;
                font-weight: bold;
                font-size: 24px;
                color: #0ff;
            } .blinky, .inky, .pinky, .clyde, .pac, .power, #lives {
                font-weight: bold;
                transition: all 0.1s 0s ease-in-out;
                position: relative;
                top: 0;
                font-size: 200%;
                left: 0;
/*                 right: 0; */
/*                 bottom: 0; */
                text-shadow: 0px 0px 8px;
/*                 animation: glow 5s infinite ease-in-out; */
            } #lives, .power {
                font-size: 100%;
            } .grid {
                color: #08f;
                text-shadow: 0px 0px 4px;
            } .blinky {
                color: #f00;
            } .inky {
                color: #0ff;
            } .pinky {
                color: #f08;
            } .clyde {
                color: #f80;
            } .pac, #lives {
                color: #ff0;
                display: block;
            } .power {
                color: #ff8;
/*                 animation: power-blink 5s infinite ease-in-out; */
            } h1, h3, details {
                color: #0ff;
                text-align: center;
            } .mid {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            } summary h3 {
                display: inline-block;
            } button {
                background-color: #0ff4;
                border: 2px solid #0ff;
                color: #0ff;
                border-radius: 4px;
                padding: 10px;
                margin: 10px;
                height: 37px;
                width: 37px;
                font-size: 18px;
                font-weight: bold;
                padding-top: 4px;
            } .preset {
                background-color: #011;
                font-weight: bold;
                font-style: italic;
            } .block td:not(.preset) {
                font-weight: bold;
                font-size: x-large;
            } .darker {
                color: #666 !important;
            } button.waiting {
                background-color: #0a63;
                border-color: #0a6;
                color: #0a6;
            } button.toggle, button.toggle.waiting {
                background-color: #0f84;
                border-color: #0f8;
                color: #0f8;
            }
            #fuckme {
                line-height: 8px;
                font-size: 75%;
                height: 20px;
            } .noted {
                font-size: 60%;
                line-height: 60%;
            } #cover {
                background-color: #233;
                height: 400px;
                width: 400px;
                position: absolute;
                left: 50%;
                z-index: 1000;
                transform: translateX(-50%);
                transition: opacity 0.1s cubic-bezier(0, 0.5, 0, 1);
            } #cover h1 {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) rotate(-14deg);
                font-size: 400%;
                margin-top: 0px;
            } #logo:hover {
                cursor: pointer;
            } button[onclick]:hover {
                cursor: pointer;
            } #undo, #redo {
                width: auto !important;
                opacity: 50%;
            } .pac.spooked {
                animation: pac-power 0.5s infinite ease-in-out;
            } .blinky.spooked {
                animation: blinky-spooked 1s infinite ease-in-out;
            } .inky.spooked {
                animation: inky-spooked 1s infinite ease-in-out;
            } .pinky.spooked {
                animation: pinky-spooked 1s infinite ease-in-out;
            } .clyde.spooked {
                animation: clyde-spooked 1s infinite ease-in-out;
            } .blinky.ded {
                animation: blinky-ded 1s infinite ease-in-out;
            } .inky.ded {
                animation: inky-ded 1s infinite ease-in-out;
            } .pinky.ded {
                animation: pinky-ded 1s infinite ease-in-out;
            } .clyde.ded {
                animation: clyde-ded 1s infinite ease-in-out;
            } tr, td {
                padding: 0px;
            } table {
                border-spacing: 0px;
                white-space: pre;
                margin: auto;
                left: 0;
                right: 0;
            } .pac.running-out {
                animation: pac-power 0.1s infinite ease-in-out;
            } .spooked.running-out {
                animation-duration: 0.25s;
            } .darker {
                opacity: 0;
            } table:not(#board) {
                position: absolute;
                left: 0;
                right: 0;
                margin: auto;
            }
            @keyframes pac-power {
                0% { color: #ff0; }
                33% { color: #fff; }
                66% { color: #880; }
                100% { color: #ff0; }
            } @keyframes power-blink {
                0% { color: #ff8; }
                10% { color: #fff; }
                20% { color: #cca; }
                30% { color: #ff8; }
                100% { color: #ff8; }
            } @keyframes blinky-spooked {
                0% { color: #f00; }
                25% { color: #08f; }
                60% { color: #00f; }
                75% { color: #00f; }
                100% { color: #f00; }
            } @keyframes pinky-spooked {
                0% { color: #f08; }
                25% { color: #08f; }
                60% { color: #00f; }
                75% { color: #00f; }
                100% { color: #f08; }
            } @keyframes inky-spooked {
                0% { color: #0ff; }
                25% { color: #08f; }
                60% { color: #00f; }
                75% { color: #00f; }
                100% { color: #0ff; }
            } @keyframes clyde-spooked {
                0% { color: #f80; }
                25% { color: #08f; }
                60% { color: #00f; }
                75% { color: #00f; }
                100% { color: #f80; }
            }  @keyframes blinky-ded {
                0% { color: #f00; }
                25% { color: #fff; }
                60% { color: #ccc; }
                75% { color: #ccc; }
                100% { color: #f00; }
            } @keyframes pinky-ded {
                0% { color: #f08; }
                25% { color: #fff; }
                60% { color: #ccc; }
                75% { color: #ccc; }
                100% { color: #f08; }
            } @keyframes inky-ded {
                0% { color: #0ff; }
                25% { color: #fff; }
                60% { color: #ccc; }
                75% { color: #ccc; }
                100% { color: #0ff; }
            } @keyframes clyde-ded {
                0% { color: #f80; }
                25% { color: #fff; }
                60% { color: #ccc; }
                75% { color: #ccc; }
                100% { color: #f80; }
            } @keyframes glow {
                0% { text-shadow: 0px 0px 8px; }
                10% { text-shadow: 0px 0px 16px; }
                30% { text-shadow: 0px 0px 8px; }
                70% { text-shadow: 0px 0px 8px; }
                90% { text-shadow: 0px 0px 4px; }
                100% { text-shadow: 0px 0px 8px; }
            } .kill {
                font-weight: bold;
                font-size: 150%;
                text-shadow: 0px 0px 4px;
                position: absolute;
            } .kill.r {
                color: #f44;
            } .kill.b {
                color: #48f;
            } .kill.y {
                color: #ff0;
            } .kill.s {
                color: #ccc;
            } .kill.w {
                color: #fff;
            } .kill.g {
                color: #0f0;
            } .kill.o {
                color: #fa4;
            } #board td {
                position: relative;
            } .target {
                position: absolute;
            }
        </style>
    </head>
    <body class="bgcolor" style="background-color: #122">
        <pre id="logo" onclick="location='/prizm.dev/games'">

___________________
|                 |
|                 |
|     ____________|
|     | - - - - - -
|     | P A C M A N
|     |____________
|                 |
|                 |
|_________________|

<i>~priz edition~</i>
        </pre>
        <div style="text-align: center">
            <details>
                <summary><h3>Key map</h3></summary>
                <table style="color: #ccc; margin: auto; position: unset" id="keys">
                    <tr>
                        <th>Key</th>
                        <th>Action</th>
                    </tr>
                    <tr>
                        <td>&Lambda;</td>
                        <td>Face up</td>
                   </tr>
                    <tr>
                        <td>&lt;</td>
                        <td>Face left</td>
                    </tr>
                    <tr>
                        <td>&gt;</td>
                        <td>Face right</td>
                    </tr>
                    <tr>
                        <td>V</td>
                        <td>Face down</td>
                    </tr>
                    <tr>
                        <td>SPACE</td>
                        <td>Pause game</td>
                    </tr>
                </table>
            </details>
            <details>
                <summary><h3>Notes</h3></summary>
                <ul>
                    <li>The ghosts occasionally do not move. This is intentional, it simulates speed in the full game.</li>
                    <li>Blinky, the red ghost, may occasionally skip a tile later in the game. In the original, Blinky would move at 105% speed, in this version there is a 5% chance he'll move twice.</li>
                </ul>
            </details>
            <details>
                <summary><h3>Settings</h3></summary>
                <table style="color: #ccc; margin: auto; position: unset" id="keys">
                    <tr>
                        <th>Option</th>
                        <th>Value</th>
                    </tr>
                    <tr>
                        <td>Level<br><sub><i>*Will reset game</i></td>
                        <td><input id="lvlin" type="number" min="1" max="256" onchange="set_level(this.value);"></input></td>
                   </tr>
                    <tr>
                        <td>Show ghost targets</td>
                        <td><input type="checkbox" onchange="$('#targets').style.display=this.value?'':'none'"></input></td>
                    </tr>
<!--                    <tr>-->
<!--                        <td>debug</td>-->
<!--                        <td><textarea onchange="alert(eval(this.value));this.value=''"></textarea></td>-->
<!--                    </tr>-->
                    <tr>
                        <td>Show ghost modes</td>
                        <td><input type="checkbox" onchange="$('#modes').style.display=this.value?'':'none'"></input></td>
                    </tr>
                </table>
            </details>
        </div>
        <div>
            <h1>-- Grid --</h1>
            <div id="cheats" style="margim: auto; color; #fff; font-weight: bold;">
                <span id="modes" style="float: left; display: none; color: #fff; font-weight: bold; text-shadow: 0px 0px 8px;"></span>
            </div>
            <div id="status2" style="margin: auto; color: #fff; font-weight: bold;">
                <span style="float: left">
                    <span id="score-status">SCORE </span>
                    <span id="score" style="text-shadow: 0px 0px 8px;">0</span>
                </span>
                <span id="easteregg" style="display: none; font-weight: 400; float: right;">
                    made by <b style="text-shadow: 0px 0px 8px;">PRIZ ;]</b>
                </span>
            </div><br>
            <table id="sprites-bli">
                <tr><td></td></tr>
            </table>
            <table id="sprites-ink">
                <tr><td></td></tr>
            </table>
            <table id="sprites-pin">
                <tr><td></td></tr>
            </table>
            <table id="sprites-cly">
                <tr><td></td></tr>
            </table>
            <table id="sprites-fruit">
                <tr><td></td></tr>
            </table>
            <table id="sprites-pac">
                <tr><td><span class="pac">C</span></td></tr>
            </table>
            <div id="targets" style="position: absolute; display: none; margin: auto; left: 0; right: 0"></div>
            <table id="board"><tr><td>-</td></tr></table>
            <div id="status" style="margin: auto;">
                <span style="float: left; display: inline;" id="lives">C C C C C</span>
                <span style="float: right;" id="lvl"><span style="color: #f00;">O</span></span>
            </div><br><br>
            <div style="display: none;">
                <style type="text/css">
                    .fruit {
                        transform: scale(65%);
                        display: inline-block;
                        line-height: 70%;
                        font-weight: bold;
                        text-shadow: 0px 0px 8px;
                        margin-top: -5px;
                        width: 12px;
                        vertical-align: top;
                        text-align: center;
                        white-space: normal;
                    }
                    #galaxian {
                        transform: scale(55%);
                        margin: -5px -6px;
                        width: 24px;
                    }
                    #bell {
                        margin-top: 0px;
                    }
                    #key {
                        width: 16px;
                        margin-left: -2px;
                        margin-right: -2px;
                    }
                    td > fruit {
                        margin-top: none;
                    }
                </style>
                <span id="cherry" class="fruit">
                    <div style="color: #0a0; font-size: x-small; margin-top: -4px;margin-bottom: -6px;">&Lambda;</div>
                    <span style="color: #f44; font-size: x-large;">O<sup style="margin-left: -4px;">o</sup></span>
                </span>
                <span id="strawberry" class="fruit">
                    <div style="color: #0a0; font-size: x-small; margin-top: -4px">v</div>
                    <span style="color: #f48; font-size: x-large">V</span>
                </span>
                <span id="peach" class="fruit">
                    <div style="color: #0a0; font-size: large; margin-top: -8px; margin-bottom: 4px;">,</div>
                    <span style="color: #fa4; font-size: x-large;">O</span>
                </span>
                <span id="apple" class="fruit">
                    <div style="color: #0a0; font-size: large; margin-top: -8px; margin-bottom: 4px;">,</div>
                    <span style="color: #f44; font-size: x-large;">O</span>
                </span>
                <span id="pear" class="fruit">
                    <div style="color: #0a0; font-size: large; margin-top: -8px; margin-bottom: 4px; transform: scale(-1, 1);">,</div>
                    <span style="color: #4f4; font-size: x-large;">O</span>
                </span>
                <span id="galaxian" class="fruit">
                    <span style="color: #4f4; position: absolute;z-index: -1;opacity: 0.8;">===</span>
                    <span style="color: #48f;">\</span><span style="color: #f44;">&Lambda;</span><span style="color: #48f;">/</span><br>
                    <span style="color: #4f4;">|</span>
                </span>
                <span id="bell" class="fruit">
                    <span style="color: #888; font-size: xx-large; position: absolute; margin-top: -4px">_</span>
                    <span style="color: #4f4; font-size: xx-large; transform: rotate(180deg); display: inline-block;">U</span>
                </span>
                <span id="key" class="fruit">
                    <span style="color: #48f; position: absolute;">__</span>
                    <span style="color: #48f;">/\</span><br>
                    <span style="color: #888;display:block;margin-top:-2px">|<span style="font-size:x-large;margin-left:-4px;position:relative;top:4px">=</span></span>
                </span>
            </div>

            <div style="text-align: center;">
                <button id="ArrowUp" onclick='window.onkeydown(event)' title="Move up">&Lambda;</button> <br>
                <button id="ArrowLeft" onclick='window.onkeydown(event)' title="Move left">&lt;</button><button id="ArrowDown" onclick='window.onkeydown(event)' title="Move down">V</button><button id="ArrowRight" onclick='window.onkeydown(event)' title="Move right" class="toggle">&gt;</button> <br>
                <button onclick='pause()' title="Pause game" style="font-size: smaller;">||</button><br>
                <div style="color:#088;font-size:smaller">*note: ghosts some times dont move or move twice, <br>this is to emulate the speed of the ghosts in the real game</div>
            </div>
            <div id="error"></div>
        </div>
<!--        <script>
            debugging_ = false;
            window.onerror = (m,s,l,c,e) => {
                if(debugging_) {
                    document.getElementById("error").innerHTML = `${l}:${c}, ${s}\n\n${m}\n\n${e}`
                    alert(`${l}:${c}, ${s}\n\n${m}\n\n${e}`);
                }
            }
        </script>-->
        <script type="text/javascript" src="script.js"></script>
        <link rel="stylesheet" type="text/css" href="https://voxelprismatic.github.io/prizm.dev/assets/css/fonts.css" onload="window.setTimeout(font_loaded,500)">
    </body>
</html>
